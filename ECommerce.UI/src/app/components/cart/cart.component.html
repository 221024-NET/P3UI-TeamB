<app-navbar></app-navbar>
<button class="btn m-2" [class.btn-primary]="totalPrice == 0" [class.btn-outline-primary]="totalPrice > 0" [routerLink]="['/home']">‚Üê</button>
<div *ngIf="totalPrice > 0" class="alert w-50 alert-success mx-auto text-center">Total: ${{totalPrice.toFixed(2)}}</div>
<table class="table table-striped mx-auto mt-0" id="cart-table">
  <thead>
    <tr>
      <th></th>
      <th scope="col" style="width: 8%;">Quantity</th>
      <th scope="col">Name</th>
      <th scope="col">Price</th>
      <th scope="col">Description</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody id="cart-table-body">
    <tr *ngFor="let product of products;">
      <td><button class="btn btn-warning" (click)="removeItem(product.product, product.quantity)">Remove Item</button></td>
      <td>
        <div class="d-flex">
          <input type="number" class="form-control form-control-sm" [(ngModel)]="product.quantity" (ngModelChange)="updateQuantity(product, $event)">
        </div>
      </td>
      <td>{{product.product.productName}}</td>
      <td>{{product.product.productPrice}}</td>
      <td class="text-muted">{{product.product.productDescription}}</td>
    </tr>
  </tbody>
</table>
<div class="d-flex justify-content-center mb-3">
  <button class="btn btn-sm btn-outline-danger" [disabled]="totalPrice == 0" (click)="emptyCart()">Empty Cart</button>
  <button class="btn btn-primary" [routerLink]="['/home']">Add More Items</button>
  <button class="btn btn-success" [routerLink]="['/checkout']" [disabled]="totalPrice == 0">Go to Checkout</button>
</div>